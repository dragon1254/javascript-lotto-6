### 이 브랜치에 대해서

- 프리코스 후 다시 풀어보기 및 리팩토링 용도

- 앞서: 이미 제출이 끝난 과제이므로 unfork하고 시작함.

#### unfork

- 구체적인 방법은 자동차경주 미션 리드미에

- 지금까지는 unfork가 늦게 되서 git에 잔디가 안심겼는데 미리 해서 이제 심김..

## 미션 - 로또

### 목적

- [v]MVC로 다시 구현

- []기능 테스트 세부 구현 추가(할 거지만 시간 내에는 미구현..)

- [v]보다 깔끔한 코드로 구현

- [v]짧은 시간내로 코드 작성(순 시간 4시간 내외)-4시간 50분 정도 걸림

- []코드 작성후 처음 코드와 비교 분석(반복 분석 필요)

- []이번에는 추가 기능은 넣지 않고(테스트 코드짜기 힘듦) 본래 기능만 구현 후 비교가 목적

- [v]controller 클래스 내부에는 MissionUtils 안 들어가게 하기

- [v]MVC에 맞게 src/domain에는 app.js, index.js를 제외하고는 model폴더, view폴더, controller폴더만 남게 하기

### 시작

#### 입력사항

- 사는 가격(가격이 맞는지 확인하고 잘못되었을 시 입력 다시 받음, 1000원 단위)

- 당첨 번호(잘못되었을 시 재입력, 1~45, 6개, 중복 금지)

- 보너스 번호(잘못되었을 시 재입력, 1~45, 1개, 당첨번호와 중복 금지)

#### 처리 사항
- 사는 가격으로 몇 개 샀는지 확인

- 산 개수 만큼 로또 배열 만들기

- 각 로또가 당첨번호 및 보너스 번호와 맞는 확인

- 맞는 개수와 보너스 여부에 따라 등수 확인

- 수익률 계산 - 총 당첨 금액/ 사는 가격

#### 출력사항

- 산 로또의 번호 출력(배열로 출력, 3000원을 사면 3개 구매했습니다 이후 [][][])

- 당첨 된 사항 출력(3개 일치, 4개 일치 등)

- 수익률 출력(소수 첫째자리 까지. 둘째자리에서 반올림)



#### 특이 사항
- 숫자 하드코딩 주의(자주 까먹음)

- 잘못된 입력값시 [ERROR] 출력하고 재입력 받기

- MVC 모델로 작성 - View, Controller를 제외한 모든 기능은 Model로, 그 안에서 다시 나누기. 그리고 MVC모두 domain안에서 처리하게

- controller 내부에서 실행되는 코드는 최대한으로 줄이기. 계산되거나 받아온 값을 저장하고 다른 메서드나 클래스로 뿌려주는 역할을 위주로. 기능은 최대한으로 다른 클래스에게 돌리기

- 예외테스트 통과에 있어서 : 기본 ApplicationTest에서의 예외테스트는 MissionUtils.Console.print를 따라가는 식으로 되어있어서 이것을 추가해줘야 함

- 그에 반해 LottoTest의 예외 테스트는 toThrow('[ERROR]')라서 그대로 하면 됨. 이 차이를 구분하지 못하고 일괄적으로 통일하면 하나가 fail 뜰 수 밖에 없음


#### 예상과 변경
- 산 개수 만큼 로또들 만들어서 배열에 저장한 후 하나씩 꺼내어 프린트 하려고 생각함

- 그러지 말고 로또를 만들고 바로 그 로또를 프린트하는 방법으로 구현. 이유: parameter 하나 덜 써도 됨.

- 입력, 처리, 출력 따로 메서드(or 클래스)를 만들고 입력 중간중간에 넣을 생각이었는데

- 처리가 복잡해져 컨트롤러의 첫 메서드에서 로또 발행까지 담당하게 함. 세부 기능은 나눠둠

- 기능 하나에 메서드 하나씩 배당하려 함 : 그런데 계산 쪽에 depth가 너무 깊어져서 switch case만 따로 메서드 배당. if 대신 switch씀. 그런데 bonus를 처리 못해서 안에 if로 보너스 씀
